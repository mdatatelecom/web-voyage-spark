# ============================================
# Arquivo de Exemplo de Variáveis de Ambiente
# Copie para .env e preencha com seus valores
# ============================================

# ============================================
# Configuração do Servidor
# ============================================
NODE_ENV=production
PORT=3001
HOST=0.0.0.0

# ============================================
# Banco de Dados PostgreSQL
# ============================================
# Opção 1: Connection string (preferível)
DATABASE_URL=postgresql://app:sua_senha_segura@localhost:5432/datacenter

# Opção 2: Variáveis individuais (fallback)
DB_HOST=localhost
DB_PORT=5432
DB_NAME=datacenter
DB_USER=app
DB_PASSWORD=sua_senha_segura
DB_SSL=false

# ============================================
# Autenticação JWT
# ============================================
# IMPORTANTE: Gere chaves seguras com: openssl rand -hex 32
JWT_SECRET=sua_chave_jwt_super_secreta_aqui_minimo_32_caracteres
JWT_EXPIRES_IN=7d
JWT_REFRESH_SECRET=sua_chave_refresh_super_secreta_aqui_minimo_32_caracteres
JWT_REFRESH_EXPIRES_IN=30d

# ============================================
# URLs da Aplicação
# ============================================
APP_URL=https://seudominio.com
API_URL=https://seudominio.com/api

# ============================================
# CORS
# ============================================
# Lista de origens permitidas separadas por vírgula
CORS_ORIGIN=https://seudominio.com,http://localhost:5173

# ============================================
# Upload de Arquivos
# ============================================
UPLOAD_DIR=/app/uploads
MAX_FILE_SIZE=52428800
STORAGE_URL=https://seudominio.com/uploads

# ============================================
# Email (Resend)
# ============================================
# Obtenha sua API key em: https://resend.com
RESEND_API_KEY=re_xxxxxxxxxxxxxxxxxxxxxxxxxxxx
EMAIL_FROM=Sistema <alertas@seudominio.com>

# ============================================
# WhatsApp (Evolution API)
# ============================================
# URL da sua instância Evolution API
EVOLUTION_API_URL=https://evolution.seudominio.com
EVOLUTION_API_KEY=sua_api_key_evolution
EVOLUTION_INSTANCE=datacenter

# URL do webhook que a Evolution API deve chamar
WEBHOOK_URL=https://seudominio.com/api/webhook/whatsapp

# ============================================
# MinIO (Storage - opcional)
# ============================================
MINIO_ENDPOINT=localhost
MINIO_PORT=9000
MINIO_USE_SSL=false
MINIO_ACCESS_KEY=admin
MINIO_SECRET_KEY=sua_senha_minio_segura
MINIO_BUCKET=datacenter

# ============================================
# Logs
# ============================================
LOG_LEVEL=info
LOG_DIR=/app/logs

# ============================================
# Rate Limiting
# ============================================
# Janela de tempo em milissegundos (padrão: 15 minutos)
RATE_LIMIT_WINDOW_MS=900000
# Máximo de requisições por janela
RATE_LIMIT_MAX_REQUESTS=100

# ============================================
# Alertas (limiares padrão são definidos no banco)
# ============================================
# Configuração de alertas é feita via interface web
# ou diretamente na tabela alert_settings

# ============================================
# Variáveis para Frontend (Vite)
# ============================================
# Estas variáveis são usadas pelo frontend React
VITE_API_URL=https://seudominio.com/api
VITE_SUPABASE_URL=
VITE_SUPABASE_PUBLISHABLE_KEY=
VITE_SUPABASE_PROJECT_ID=

# ============================================
# Docker Compose (produção)
# ============================================
# Estas são usadas pelo docker-compose.prod.yml
DB_USER=app
DB_PASSWORD=sua_senha_segura
DB_NAME=datacenter
MINIO_ROOT_USER=admin
MINIO_ROOT_PASSWORD=sua_senha_minio_segura
